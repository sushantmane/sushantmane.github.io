<html>
  <head>
	  <title>Mongoid with Rails 4</title>
	  <link rel = "stylesheet" href = "../../css/style.css" media = "all" type = "text/css" />
	  <link rel = "stylesheet" href = "../../css/section.css" media = "all" type = "text/css" />
    <link href='http://fonts.googleapis.com/css?family=Alegreya+Sans' rel='stylesheet' type='text/css'>
    <link rel="icon" type="image/png" sizes="16x16" href="../../img/favicon-16x16.png">
  </head>

  <body>
	  <header id = "head">
      <nav>
        <ul id="nav-list">
          <li class="nav-list-item"><a class="nav-list-anchor" href="../../index.html">Home</a></li>
          <li class="nav-list-item"><a class="nav-list-anchor" href="../index.html">Blog</a></li>
          <li class="nav-list-item"><a class="nav-list-anchor" href="../../projects/index.html">Projects</a></li>
          <li class="nav-list-item"><a class="nav-list-anchor" href="../../gethelp/index.html">Get Help</a></li>
          <li class="nav-list-item"><a class="nav-list-anchor" href="../../contactme/index.html">Contact Me</a></li>
        </ul>
      </nav>
		  <section>
				  <div id="myname"><span id="name-span"><a href="../../index.html">Sushant Mane</a></span></div>
		  </section>
	  </header>

	  <section id = "blog-post">
		  <article>
		    <h1>
          Mongoid with Rails 4
		    </h1>
		    <p class="meta">
			    <time datetime="2015-03-01" pubdate="">Mar 01, 2015</time>
		    </p>
		    <hr />
			  <section>
			    <p>
              Mongoid is Object Document Mapper(ODM) framework for accessing MongoDB written in Ruby.
              The main objective of Mongoid is to provide a familiar API to Ruby developers who have been
              using <code>ActiveRecord</code>, while leveraging the power of MongoDB.

              In order to demonstrate 'How to use Mongoid in Rails4?' we will
              create sample rails project.

              <p>
                <u><h4>Creating sample Rails project</h4></u>
                Create new Rails project
                <code class='codebase'>rails new <em>sample_app</em> --skip-active-record</code>
                <em>
                  Note: <code>--skip-active-record</code> tells rails to avoid loading
                  ActiveRecord.
                </em>
              </p>

              <p>
                <u><h4>Installation</h4></u>
                To install mongoid in your Rails project, simply add Mongoid gem to <code>Gemfile</code>
                <code class='codebase'>gem 'mongoid'</code>
                Then issue follwing command to install the dependencies specified
                in your Gemfile
                <code class='codebase'>bundle install</code>
              </p>

              <p>
                <u><h4>Configuration</h4></u>
                Generate a config file by executing the generator
                <code class='codebase'>rails g mongoid:config</code>
                It will create <code>mongoid.yml</code> in <code>config</code>
                directory of Rails project.
              </p>

              <p>
                <u><h4>Initialize Application</h4></u>
                And now we are ready ro go...
                Just issue
                <code class='codebase'>rails c</code>
                to initialize the Rails applicaton.
                Then do the following to build config hash.
                <code class='codebase'>Mongoid.load!('./config/mongoid.yml')</code>
              </p>

              <p>
                <u><h4>Models</h4></u>
                Before creating model we will take a look at Documents in Monogid.
                Documents are core objects in Mongoid and any object that is
                to be stored to database must include
                <code>Mongoid::Document</code> .
                The representation of Document in MongoDB is a BSON object.
                <br>
                Mongoid by default stores documents in a collection that is pluralized
                form of the class name.
                <br>
                <br>
                Now, we will create <code>User</code> model:
                <code class='codebase'>rails g model user</code>
                <em>
                  Note: Model class name cannot end with 's', because it will be
                  considered as the pluralized form of the word. Remember rails
                  follows 'convention over configuration'.
                </em>
                <br>
                <br>
                Our <code>User</code> model looks like this
                <code class='codebase'>
<pre>
<span class='ruby-comments'>#sample_app/app/models/user.rb</span>
class User
  include Mongoid::Document
end
</pre>
                </code>
                <em>
                  For <code>User</code> class, the collection name by default in
                  MongoDB will be <code>users</code> .
                </em>
                <br>
                <br>
                A user may have name, email, age, etc. We can define these attributes
                on user by using the <code>field</code>'s macro.
                <code class='codebase'>
<pre>
<span class='ruby-comments'>#sample_app/app/models/user.rb</span>
class User
  include Mongoid::Document
  field :name,  type: String
  field :email, type: String
  field :age,   type: Integer
end
</pre>
                </code>
                <em>
                  Note: Supported types for fields are
                  <code>Array</code>, <code>BigDecimal</code>, <code>Boolean</code>,
                  <code>Date</code>, <code>DateTime</code>, <code>Float</code>,
                  <code>Hash</code>, <code>Integer</code>, <code>Moped::BSON::ObjectId</code>,
                  <code>Moped::BSON::Binary</code>, <code>Range</code>, <code>Regexp</code>,
                  <code>String</code>, <code>Symbol</code>, <code>Time</code>,
                  <code>TimeWithZone</code> .
                </em>


                
              </p>

          </p>
		      <div id = "blog-posts" style="text-align:center;margin:60px auto;">

		      </div>
		      <p><!--Some text goes here--></p>
			  </section>
		  </article>
	  </section>

    <footer>
      <div id = "copyRight">
        &copy; 2015 sushantmane.github.io
      </div>
      <div>
        follow me@
        <hr />
        <div class = "social-group">
          <div class = "social-plugs" id = "gh">
            <a href = "https://github.com/sushantmane">GitHub</a>
          </div>
          <div class = "social-plugs" id = "li">
            <a href = "https://www.linkedin.com/in/sushantmane">LinkedIn</a>
          </div>
        </div>
      </div>
    </footer>
  </body>
</html>
